- if @commits.any?
  .ci_widget.ci-success{style: "display:none"}
    = icon("check")
    %span CI 构建通过
    for #{@merge_request.last_commit_short_sha}.
    = link_to "查看构建页面", ci_build_details_path(@merge_request), :"data-no-turbolink" => "data-no-turbolink"


  .ci_widget.ci-failed{style: "display:none"}
    = icon("times")
    %span CI 构建失败
    for #{@merge_request.last_commit_short_sha}.
    = link_to "查看构建页面", ci_build_details_path(@merge_request), :"data-no-turbolink" => "data-no-turbolink"

  - [:running, :pending].each do |status|
    .ci_widget{class: "ci-#{status}", style: "display:none"}
      = icon("clock-o")
      %span CI 构建 #{status}
      for #{@merge_request.last_commit_short_sha}.
      = link_to "查看构建页面", ci_build_details_path(@merge_request), :"data-no-turbolink" => "data-no-turbolink"

  .ci_widget
    = icon("spinner spin")
    正在检查 #{@merge_request.last_commit_short_sha} 的 CI 构建状态

  .ci_widget.ci-canceled{style: "display:none"}
    = icon("times")
    %span CI 构建被取消
    for #{@merge_request.last_commit_short_sha}.
    = link_to "查看构建页面", ci_build_details_path(@merge_request), :"data-no-turbolink" => "data-no-turbolink"

  .ci_widget.ci-error{style: "display:none"}
    = icon("times")
    %span 无法连接到 CI 服务器。请检查相关设置并重试。
