= render "projects/commits/head"

%h3.page-title
  比较视图

= render "form"

- if @commits.present?
  %div.panel.panel-default
    .panel-heading
      提交 (#{@commits.count})
    - if @commits.size > MergeRequestDiff::COMMITS_SAFE_SIZE
      %ul.well-list
        - Commit.decorate(@commits.first(MergeRequestDiff::COMMITS_SAFE_SIZE)).each do |commit|
          = render "projects/commits/inline_commit", commit: commit, project: @project
        %li.warning-row.unstyled
          其他 #{@commits.size - MergeRequestDiff::COMMITS_SAFE_SIZE} 次提交因为性能问题而隐藏。
    - else
      %ul.well-list= render Commit.decorate(@commits), project: @project

  = render "projects/diffs/diffs", diffs: @diffs, project: @project

- else
  .light-well
    .center
      %h4
        没有内容需要比较。
      %p.slead
        - if params[:to] == params[:from]
          %span.label-branch #{params[:from]}
          与
          %span.label-branch #{params[:to]}
          内容一致。
        - else
          需要选择不同的分支用于比较。
